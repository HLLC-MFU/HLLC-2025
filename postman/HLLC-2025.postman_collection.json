{
	"info": {
		"_postman_id": "1234567-89ab-cdef-0123-456789abcdef",
		"name": "HLLC-2025",
		"description": "API collection for HLLC-2025 backend services",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication Service",
			"item": [
				{
					"name": "Public Routes",
					"item": [
						{
							"name": "Login",
							"event": [
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											"if (pm.response.code === 200) {",
											"    if (pm.response.json().data && pm.response.json().data.accessToken) {",
											"        pm.environment.set('access_token', pm.response.json().data.accessToken);",
											"    }",
											"    if (pm.response.json().data && pm.response.json().data.refreshToken) {",
											"        pm.environment.set('refresh_token', pm.response.json().data.refreshToken);",
											"    }",
											"}"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/login",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "auth", "login"]
								}
							}
						},
						{
							"name": "Refresh Token",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"refreshToken\": \"{{refresh_token}}\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/auth/refresh",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "auth", "refresh"]
								}
							}
						}
					]
				},
				{
					"name": "Protected Routes",
					"item": [
						{
							"name": "Logout",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/protected/auth/logout",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "protected", "auth", "logout"]
								}
							}
						},
						{
							"name": "Validate Token",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/protected/auth/validate",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "protected", "auth", "validate"]
								}
							}
						}
					]
				},
				{
					"name": "Admin Routes",
					"item": [
						{
							"name": "Revoke User Sessions",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/admin/auth/revoke/{{user_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "auth", "revoke", "{{user_id}}"]
								}
							}
						}
					]
				}
			]
		},
		{
			"name": "User Management",
			"item": [
				{
					"name": "Public Routes",
					"item": [
						{
							"name": "Validate Credentials",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/public/validate-credentials",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "public", "validate-credentials"]
								}
							}
						}
					]
				},
				{
					"name": "Protected Routes",
					"item": [
						{
							"name": "Get User Profile",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/users/profile",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "users", "profile"]
								}
							}
						},
						{
							"name": "Update User Profile",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": {\n        \"firstName\": \"John\",\n        \"middleName\": \"\",\n        \"lastName\": \"Doe\"\n    }\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/users/profile",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "users", "profile"]
								}
							}
						}
					]
				},
				{
					"name": "Admin Routes",
					"item": [
						{
							"name": "Create User",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"username\": \"newuser\",\n    \"password\": \"password123\",\n    \"name\": {\n        \"firstName\": \"New\",\n        \"middleName\": \"\",\n        \"lastName\": \"User\"\n    },\n    \"roleIds\": [\"{{role_id}}\"]\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/admin/users",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "users"]
								}
							}
						},
						{
							"name": "Get All Users",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/admin/users",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "users"]
								}
							}
						},
						{
							"name": "Get User by ID",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/admin/users/{{user_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "users", "{{user_id}}"]
								}
							}
						},
						{
							"name": "Update User",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"username\": \"updateduser\",\n    \"name\": {\n        \"firstName\": \"Updated\",\n        \"middleName\": \"\",\n        \"lastName\": \"User\"\n    },\n    \"roleIds\": [\"{{role_id}}\"]\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/admin/users/{{user_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "users", "{{user_id}}"]
								}
							}
						},
						{
							"name": "Delete User",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/admin/users/{{user_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "users", "{{user_id}}"]
								}
							}
						}
					]
				}
			]
		},
		{
			"name": "Role Management",
			"item": [
				{
					"name": "Protected Routes",
					"item": [
						{
							"name": "Get All Roles",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/users/roles",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "users", "roles"]
								}
							}
						}
					]
				},
				{
					"name": "Admin Routes",
					"item": [
						{
							"name": "Create Role",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"New Role\",\n    \"code\": \"NEW_ROLE\",\n    \"description\": \"A new role\",\n    \"permissions\": [\"{{permission_id}}\"]\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/admin/roles",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "roles"]
								}
							}
						},
						{
							"name": "Get Role by ID",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/admin/roles/{{role_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "roles", "{{role_id}}"]
								}
							}
						},
						{
							"name": "Update Role",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Updated Role\",\n    \"code\": \"UPDATED_ROLE\",\n    \"description\": \"An updated role\",\n    \"permissions\": [\"{{permission_id}}\"]\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/admin/roles/{{role_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "roles", "{{role_id}}"]
								}
							}
						},
						{
							"name": "Delete Role",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/admin/roles/{{role_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "roles", "{{role_id}}"]
								}
							}
						}
					]
				}
			]
		},
		{
			"name": "Permission Management",
			"item": [
				{
					"name": "Protected Routes",
					"item": [
						{
							"name": "Get All Permissions",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/users/permissions",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "users", "permissions"]
								}
							}
						}
					]
				},
				{
					"name": "Admin Routes",
					"item": [
						{
							"name": "Create Permission",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"New Permission\",\n    \"code\": \"NEW_PERMISSION\",\n    \"description\": \"A new permission\",\n    \"module\": \"user\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/admin/permissions",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "permissions"]
								}
							}
						},
						{
							"name": "Get Permission by ID",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/admin/permissions/{{permission_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "permissions", "{{permission_id}}"]
								}
							}
						},
						{
							"name": "Update Permission",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Updated Permission\",\n    \"code\": \"UPDATED_PERMISSION\",\n    \"description\": \"An updated permission\",\n    \"module\": \"user\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/admin/permissions/{{permission_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "permissions", "{{permission_id}}"]
								}
							}
						},
						{
							"name": "Delete Permission",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/admin/permissions/{{permission_id}}",
									"host": ["{{base_url}}"],
									"path": ["api", "v1", "admin", "permissions", "{{permission_id}}"]
								}
							}
						}
					]
				}
			]
		},
		{
			"name": "Health Checks",
			"item": [
				{
					"name": "Auth Service Health",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						}
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"if (pm.response.code === 200) {",
					"    if (pm.response.json().data && pm.response.json().data.accessToken) {",
					"        pm.environment.set('access_token', pm.response.json().data.accessToken);",
					"    }",
					"    if (pm.response.json().data && pm.response.json().data.refreshToken) {",
					"        pm.environment.set('refresh_token', pm.response.json().data.refreshToken);",
					"    }",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080"
		}
	]
} 